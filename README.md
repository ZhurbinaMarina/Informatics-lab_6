# Лабораторная работа 6 по теме «Шифрование файлов и каталогов»

Для решения понадобится установить GPG. Можно это делать как в виртуальной машине с установленным Linux, так и через WSL (главное на линукс подобной системе).

## Шифрование и дешифрование файлов в Linux:
Шифрование - это процесс кодирования данных с целью защиты их от несанкционированного доступа.
В этой лабораторной работе мы узнаем, как шифровать и дешифровать файлы в системах Linux с помощью GPG (GNU Privacy Guard), которая является популярным и бесплатным программным обеспечением.
### Основы шифрования:
Прежде чем мы начнем, давайте попробуем разобраться в некоторых основных концепциях.
В принципе, все типы шифрования (и дешифрования) в первую очередь включают либо кодовую фразу , либо ключ, которые представляют собой просто строки данных.

**1. Типы шифрования:**
В зависимости от количества строк данных, задействованных в процессе шифрования и дешифрования, у нас есть два вида шифрования.

Когда для шифрования и дешифрования используется только одна строка данных – кодовая фраза, это называется симметричным шифрованием. Обычно мы используем симметричное шифрование, когда нам не нужно делиться зашифрованными файлами с кем-либо еще. Если мы будем предоставлять общий доступ, то нам также потребуется предоставить общий доступ к парольной фразе, что может быть потенциальным фактором риска.

Когда же задействованы две строки данных, одна для шифрования, а другая для дешифрования, это называется асимметричным шифрованием. Соответственно, пара строк данных называется парами ключей.

Асимметричное шифрование больше подходит для совместного использования зашифрованных файлов, поскольку оно требует совместного использования только одной из двух строк данных.

**2. Типы ключей:**
При асимметричном шифровании пара ключей состоит из двух ключей — открытого и закрытого.

Открытый ключ не является конфиденциальным. Следовательно, мы можем поделиться открытым ключом с заинтересованными сторонами без какого-либо риска.

Напротив, мы должны всегда хранить закрытый ключ в секрете и никогда ни с кем им не делиться.

Открытые ключи всегда используются для шифрования, а закрытые - для дешифрования, когда дело доходит до шифрования / расшифровки данных.

## Пример симметричного шифрования:
1. Давайте откроем окно терминала и проверим, установлен ли GPG:
```
gpg --version
```
  Если GPG не установлен, его можно установить данной командой:
```
sudo apt install gnupg
```
2. Теперь давайте попробуем зашифровать файл, сначала создав образец файла:
```
echo "Hello, ITMO!" > greetings.txt
```
3. Далее давайте запустим команду gpg для шифрования файла с помощью ключевой фразы:
```
gpg --batch --output greetings.txt.gpg --passphrase mypassword --symmetric greetings.txt
```
  Впоследствии это приведет к созданию зашифрованного файла greetings.txt.gpg в том же месте с использованием алгоритма AES256 по умолчанию. Чтобы использовать другой алгоритм, мы можем использовать опцию —cipher-algo.
4. Теперь давайте попробуем расшифровать зашифрованный файл из предыдущего примера:
```
gpg --batch --output greetings1.txt --passphrase mypassword --decrypt greetings.txt.gpg
```
  При этом будет создан расшифрованный файл greetings1.txt в том же месте.
5. Теперь давайте вернемся к нашему расшифрованному файлу и убедимся, что расшифровка прошла успешно:
```
diff -s greetings.txt greetings1.txt
```
Если все прошло успешно, то мы должны получить такой вывод команды:

![image](https://github.com/user-attachments/assets/97f3ed79-0a43-4af8-90ba-77d39b0acff2)

## Задание:

Реализовать асимметричное шифрование и сымитировать взаимодействие двух пользователей Пети и Вани.

В этом типе шифрования задействованы две роли — отправителя и получателя.

Получатель расшифровывает полученный файл. Таким образом, получатель отвечает за генерацию пары ключей. Прежде всего, получатель будет безопасно хранить закрытый ключ в секрете и делиться только открытым ключом с отправителем.

Отправитель шифрует отправляемый файл, используя открытый ключ, общий для получателя.

Получателем будет являться Петя, а отправителем Ваня.
